(function(){"use strict";let a;const s=new Array(128).fill(void 0);s.push(void 0,null,!0,!1);let u=s.length;function w(e){u===s.length&&s.push(s.length+1);const t=u;return u=s[t],s[t]=e,t}function f(e){return s[e]}function R(e){e<132||(s[e]=u,u=e)}function m(e){const t=f(e);return R(e),t}const p=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});p.decode();let l=null;function _(){return(l===null||l.byteLength===0)&&(l=new Uint8Array(a.memory.buffer)),l}function T(e,t){return p.decode(_().subarray(e,e+t))}let d=128;function U(e){if(d==1)throw new Error("out of js stack");return s[--d]=e,d}let g=0;const y=new TextEncoder("utf-8"),E=typeof y.encodeInto=="function"?function(e,t){return y.encodeInto(e,t)}:function(e,t){const n=y.encode(e);return t.set(n),{read:e.length,written:n.length}};function A(e,t,n){if(n===void 0){const c=y.encode(e),b=t(c.length);return _().subarray(b,b+c.length).set(c),g=c.length,b}let r=e.length,i=t(r);const h=_();let o=0;for(;o<r;o++){const c=e.charCodeAt(o);if(c>127)break;h[i+o]=c}if(o!==r){o!==0&&(e=e.slice(o)),i=n(i,r,r=o+e.length*3);const c=_().subarray(i+o,i+r),b=E(e,c);o+=b.written}return g=o,i}function M(e,t,n){try{const r=A(t,a.__wbindgen_malloc,a.__wbindgen_realloc),i=g,h=A(n,a.__wbindgen_malloc,a.__wbindgen_realloc),o=g,c=a.convert_image(U(e),r,i,h,o);return m(c)}finally{s[d++]=void 0}}async function O(e,t){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,t)}catch(r){if(e.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}else{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}function S(){const e={};return e.wbg={},e.wbg.__wbg_length_27a2afe8ab42b09f=function(t){return f(t).length},e.wbg.__wbindgen_memory=function(){const t=a.memory;return w(t)},e.wbg.__wbg_buffer_cf65c07de34b9a08=function(t){const n=f(t).buffer;return w(n)},e.wbg.__wbg_new_537b7341ce90bb31=function(t){const n=new Uint8Array(f(t));return w(n)},e.wbg.__wbindgen_object_drop_ref=function(t){m(t)},e.wbg.__wbg_set_17499e8aa4003ebd=function(t,n,r){f(t).set(f(n),r>>>0)},e.wbg.__wbg_newwithbyteoffsetandlength_9fb2f11355ecadf5=function(t,n,r){const i=new Uint8Array(f(t),n>>>0,r>>>0);return w(i)},e.wbg.__wbindgen_throw=function(t,n){throw new Error(T(t,n))},e}function j(e,t){return a=e.exports,W.__wbindgen_wasm_module=t,l=null,a}async function W(e){typeof e>"u"&&(e=new URL(""+new URL("wasm_bg-75ab7b62.wasm",self.location.href).href,self.location));const t=S();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));const{instance:n,module:r}=await O(await e,t);return j(n,r)}self.addEventListener("message",async function(e){await W();try{let n={success:!0,data:M(e.data.inputFile,e.data.inputType,e.data.outputType)};self.postMessage(n)}catch(t){let n={success:!1,error:String(t)};self.postMessage(n)}},!1)})();
