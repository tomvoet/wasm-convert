(function(){"use strict";let a;const s=new Array(128).fill(void 0);s.push(void 0,null,!0,!1);function f(e){return s[e]}let u=s.length;function R(e){e<132||(s[e]=u,u=e)}function m(e){const n=f(e);return R(e),n}const p=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});p.decode();let l=null;function w(){return(l===null||l.byteLength===0)&&(l=new Uint8Array(a.memory.buffer)),l}function T(e,n){return p.decode(w().subarray(e,e+n))}function _(e){u===s.length&&s.push(s.length+1);const n=u;return u=s[n],s[n]=e,n}let d=128;function U(e){if(d==1)throw new Error("out of js stack");return s[--d]=e,d}let g=0;const y=new TextEncoder("utf-8"),E=typeof y.encodeInto=="function"?function(e,n){return y.encodeInto(e,n)}:function(e,n){const t=y.encode(e);return n.set(t),{read:e.length,written:t.length}};function A(e,n,t){if(t===void 0){const i=y.encode(e),b=n(i.length);return w().subarray(b,b+i.length).set(i),g=i.length,b}let r=e.length,c=n(r);const h=w();let o=0;for(;o<r;o++){const i=e.charCodeAt(o);if(i>127)break;h[c+o]=i}if(o!==r){o!==0&&(e=e.slice(o)),c=t(c,r,r=o+e.length*3);const i=w().subarray(c+o,c+r),b=E(e,i);o+=b.written}return g=o,c}function O(e,n,t){try{const r=A(n,a.__wbindgen_malloc,a.__wbindgen_realloc),c=g,h=A(t,a.__wbindgen_malloc,a.__wbindgen_realloc),o=g,i=a.convert_image(U(e),r,c,h,o);return m(i)}finally{s[d++]=void 0}}async function j(e,n){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,n)}catch(r){if(e.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const t=await e.arrayBuffer();return await WebAssembly.instantiate(t,n)}else{const t=await WebAssembly.instantiate(e,n);return t instanceof WebAssembly.Instance?{instance:t,module:e}:t}}function L(){const e={};return e.wbg={},e.wbg.__wbindgen_object_drop_ref=function(n){m(n)},e.wbg.__wbg_buffer_cf65c07de34b9a08=function(n){const t=f(n).buffer;return _(t)},e.wbg.__wbg_newwithbyteoffsetandlength_9fb2f11355ecadf5=function(n,t,r){const c=new Uint8Array(f(n),t>>>0,r>>>0);return _(c)},e.wbg.__wbg_new_537b7341ce90bb31=function(n){const t=new Uint8Array(f(n));return _(t)},e.wbg.__wbg_set_17499e8aa4003ebd=function(n,t,r){f(n).set(f(t),r>>>0)},e.wbg.__wbg_length_27a2afe8ab42b09f=function(n){return f(n).length},e.wbg.__wbindgen_throw=function(n,t){throw new Error(T(n,t))},e.wbg.__wbindgen_memory=function(){const n=a.memory;return _(n)},e}function M(e,n){return a=e.exports,W.__wbindgen_wasm_module=n,l=null,a}async function W(e){typeof e>"u"&&(e=new URL(""+new URL("wasm_bg-88e02cb2.wasm",self.location.href).href,self.location));const n=L();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));const{instance:t,module:r}=await j(await e,n);return M(t,r)}self.addEventListener("message",async function(e){await W();const n=O(e.data.inputFile,e.data.inputType,e.data.outputType);self.postMessage(n)},!1)})();
