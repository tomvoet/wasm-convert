(function(){"use strict";let a;const s=new Array(128).fill(void 0);s.push(void 0,null,!0,!1);function f(e){return s[e]}let u=s.length;function T(e){e<132||(s[e]=u,u=e)}function p(e){const n=f(e);return T(e),n}const A=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});A.decode();let l=null;function w(){return(l===null||l.byteLength===0)&&(l=new Uint8Array(a.memory.buffer)),l}function h(e,n){return A.decode(w().subarray(e,e+n))}function _(e){u===s.length&&s.push(s.length+1);const n=u;return u=s[n],s[n]=e,n}let g=0;const d=new TextEncoder("utf-8"),U=typeof d.encodeInto=="function"?function(e,n){return d.encodeInto(e,n)}:function(e,n){const t=d.encode(e);return n.set(t),{read:e.length,written:t.length}};function W(e,n,t){if(t===void 0){const c=d.encode(e),b=n(c.length);return w().subarray(b,b+c.length).set(c),g=c.length,b}let r=e.length,i=n(r);const m=w();let o=0;for(;o<r;o++){const c=e.charCodeAt(o);if(c>127)break;m[i+o]=c}if(o!==r){o!==0&&(e=e.slice(o)),i=t(i,r,r=o+e.length*3);const c=w().subarray(i+o,i+r),b=U(e,c);o+=b.written}return g=o,i}let y=128;function E(e){if(y==1)throw new Error("out of js stack");return s[--y]=e,y}function O(e,n,t){try{const r=W(n,a.__wbindgen_malloc,a.__wbindgen_realloc),i=g,m=W(t,a.__wbindgen_malloc,a.__wbindgen_realloc),o=g,c=a.convert_image(E(e),r,i,m,o);return p(c)}finally{s[y++]=void 0}}async function j(e,n){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,n)}catch(r){if(e.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const t=await e.arrayBuffer();return await WebAssembly.instantiate(t,n)}else{const t=await WebAssembly.instantiate(e,n);return t instanceof WebAssembly.Instance?{instance:t,module:e}:t}}function L(){const e={};return e.wbg={},e.wbg.__wbg_alert_e63a4c41bbd7a3e9=function(n,t){alert(h(n,t))},e.wbg.__wbg_log_12af4e1f5b304c40=function(n,t){console.log(h(n,t))},e.wbg.__wbindgen_object_drop_ref=function(n){p(n)},e.wbg.__wbg_buffer_cf65c07de34b9a08=function(n){const t=f(n).buffer;return _(t)},e.wbg.__wbg_newwithbyteoffsetandlength_9fb2f11355ecadf5=function(n,t,r){const i=new Uint8Array(f(n),t>>>0,r>>>0);return _(i)},e.wbg.__wbg_new_537b7341ce90bb31=function(n){const t=new Uint8Array(f(n));return _(t)},e.wbg.__wbg_set_17499e8aa4003ebd=function(n,t,r){f(n).set(f(t),r>>>0)},e.wbg.__wbg_length_27a2afe8ab42b09f=function(n){return f(n).length},e.wbg.__wbindgen_throw=function(n,t){throw new Error(h(n,t))},e.wbg.__wbindgen_memory=function(){const n=a.memory;return _(n)},e}function M(e,n){return a=e.exports,R.__wbindgen_wasm_module=n,l=null,a}async function R(e){typeof e>"u"&&(e=new URL(""+new URL("wasm_bg-af4e1e22.wasm",self.location.href).href,self.location));const n=L();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));const{instance:t,module:r}=await j(await e,n);return M(t,r)}self.addEventListener("message",async function(e){console.log("worker started"),await R();const n=O(e.data.inputFile,e.data.inputType,e.data.outputType);self.postMessage(n)},!1)})();
